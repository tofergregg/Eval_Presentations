<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Comp 97 (Senior Capstone Project) - Presentation Evaluation Form</title>
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="index.css">
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" ></script>
<script type="text/javascript">
function init(){
	init.scoreTypes = ["content",
			"preparedness",
			"enthusiasm",
			"vocabulary",
			"speaking",
			"organization",
			"time",
			"realism",
			"detail",
			"audience",
			"overall"]
	parseDate();
	create_scoring();
	$.post("cgi-bin/getUsername.cgi", {}, 
                function (data){
                    console.log(data);
                    $("#name").html(data.replace(/(\r\n|\n|\r)/gm,""));
            });
}

function parseDate(){
	var today = new Date();
	var dd = today.getDate();
	var mm = today.getMonth()+1; //January is 0!
	var yyyy = today.getFullYear();

	if(dd<10) {
	    dd='0'+dd;
	} 

	if(mm<10) {
	    mm='0'+mm;
	} 

	today = mm+'-'+dd+'-'+yyyy;
	console.log(today);
	$("#date").html(today);
}

function create_scoring(){
	for (var i=0;i<init.scoreTypes.length;i++) {
		console.log(init.scoreTypes[i]+"_score");
		var combo = $("<select></select>").attr("id", init.scoreTypes[i]+"_scoreText").attr("name", s);;
		for (var s=1;s<=5;s++) {
			combo.append("<option>" + s + "</option>");
		}
		$("#"+init.scoreTypes[i]+"_score").append(combo);
		
		// add text boxes
		$("#"+init.scoreTypes[i]+"_comments").
			html('<input type="text" id="'+init.scoreTypes[i]+'_commentText" size="80">');
			console.log(init.scoreTypes[i]+"_commentText");

	}
}

function submitForm(){
	formInfo = {}
	var elt = document.getElementById("TeamPresenting");
	formInfo['TeamPresenting']=elt.options[elt.selectedIndex].text;
	formInfo['Evaluator']=(document.getElementById("name")).innerHTML;
	for (var i=0;i<init.scoreTypes.length;i++) {
		var elt = document.getElementById(init.scoreTypes[i]+"_scoreText");
		formInfo[init.scoreTypes[i]+"_score"]=elt.options[elt.selectedIndex].text;
		
		elt = document.getElementById(init.scoreTypes[i]+"_commentText");
		if (elt.value=="") elt.value = "(no comment)"
		formInfo[init.scoreTypes[i]+"_comment"]=elt.value;
	}
	console.log(formInfo);
	$.post("cgi-bin/submitForm.cgi", formInfo,
		function (data) {
			console.log(data);
		});
	//alert("Submitted!");
}
</script>
<body onload="init()">
<div id="container">
<b><em>Senior Project Presentation Evaluation Form</em></b>

<p>Date: <span id="date"></span>

<p>Team Presenting:
<select id="TeamPresenting">
<option>WolfPack</option>
<option>QuickPivot</option>
<option>Team Sirius</option>
<option>Serious Black</option>
<option>Hercules</option>
<option>DegreeSheep</option>
<option>CollaboRead</option>
<option>App Adventure Squad</option>
<option>Alva Cough</option>
<option>Cyborg Slayers</option>
<option>Brewsters</option>
<option>SpotLight</option>
<option>Kernel Sanders</option>
<option>Orange</option>
</select>

<p>Evaluator: <span id="name"></span>

<p>Score Index:  5: Excellent, 4: Very Good, 3: Good, 2: Needs Improvement, 1: Needs lot of improvement

<table border="1">
<tr><th>Category</th><th>Score</th><th>Comments</th></tr>
<tr><td>Content</td><td><span id="content_score"></span></td><td><span id="content_comments"></span></td></tr>
<tr><td>Preparedness</td><td><span id="preparedness_score"></span></td><td><span id="preparedness_comments"></span></td></tr>
<tr><td>Enthusiasm</td><td><span id="enthusiasm_score"></span></td><td><span id="enthusiasm_comments"></span></td></tr>
<tr><td>Vocabulary</td><td><span id="vocabulary_score"></span></td><td><span id="vocabulary_comments"></span></td></tr>
<tr><td>Speaks Clearly</td><td><span id="speaking_score"></span></td><td><span id="speaking_comments"></span></td></tr>
<tr><td>Organization</td><td><span id="organization_score"></span></td><td><span id="organization_comments"></span></td></tr>
<tr><td>Time Management</td><td><span id="time_score"></span></td><td><span id="time_comments"></span></td></tr>
<tr><td>Realistic / Honest Status</td><td><span id="realism_score"></span></td><td><span id="realism_comments"></span></td></tr>
<tr><td>Detail</td><td><span id="detail_score"></span></td><td><span id="detail_comments"></span></td></tr>
<tr><td>Audience Engagement</td><td><span id="audience_score"></span></td><td><span id="audience_comments"></span></td></tr>
<tr><td>Overall</td><td><span id="overall_score"></span></td><td><span id="overall_comments"></span></td></tr>
</table>

<p>
<button type="button" onclick="submitForm()">Submit Evaluation!</button>

</div>
</body>
</html>

